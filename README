

### Compilation

An ant file is provided, targets are 
  - compile -- compile the source code
  - war     -- create the war file to be deployed within a J2EE server
  - clean   -- perform cleanup



Supported  URL

Scheduler 
  scheduler/login                        POST username&password, return sessionid
  scheduler/jobsids                      list job by ids
  scheduler/jobs                         list job by ids+additional data 
  scheduler/jobs/{id}                    describe the job 'id'
  scheduler/jobs/{id}/tasks              list job's tasks + additional data
  scheduler/jobs/{id}/tasksids           list job's tasks by id
  scheduler/jobs/{id}/tasks/{tasksid}    describe task {taskid} of job {id}
  scheduler/jobs/{id}/tasks/{tasksid}/result    return the result of the task {taskid} of the job {id}

Resource Manager
  rm/login      POST username&password, return session id 
  rm/state 
  rm/monitoring
  rm/node       POST nodeurl (add a node)

So far, the scheduler and the resource manager urls are hard-coded within the source, edit then compile the war file and deploy it.

The Scheduler and the resource manager login mechanism are separate processes.
One must log on on each subsystem to be able to query REST commands.
When a user logs on, a session id is returned and must be send within the header of any call otherwise an 401 (unauthorized) error is thrown.




some command-line usage :

#### scheduler 

# login 

curl -d "username=demo&password=demo" http://localhost:8080/proactive_grid_cloud_portal/scheduler/login

#submit a job

curl -H "sessionid:1" -F 'file=<Job_2_tasks.xml' http://localhost:8080/proactive_grid_cloud_portal/scheduler/submit


#list jobs (pending, running, finished)
curl -H "sessionid:1" -H "Accept: application/json" http://localhost:8080/proactive_grid_cloud_portal/scheduler/jobsids/ 

# list job 10's tasks 

curl -H "sessionid:1" -H "Accept: application/json" http://localhost:8080/proactive_grid_cloud_portal/scheduler/jobs/12/tasksids


#delete a job

curl -X DELETE -H "sessionid:1" -H "Accept: application/json" http://localhost:8080/proactive_grid_cloud_portal/scheduler/jobs/10

#result from a task 
curl -H "sessionid:1" -H "Accept: application/json" http://localhost:8080/proactive_grid_cloud_portal/scheduler/jobs/1/tasks/task1/result


  ### Resource Manager

curl -d "username=admin&password=admin" http://localhost:8080/proactive_grid_cloud_portal/rm/login

url -H "sessionid:1" -H "Accept: application/json" http://localhost:8080/proactive_grid_cloud_portal/rm/state

curl -H "sessionid:1" -H "Accept: application/json" http://localhost:8080/proactive_grid_cloud_portal/rm/monitoring

